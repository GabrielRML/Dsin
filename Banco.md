CREATE DATABASE LABORATORIO;

CREATE TABLE STATUS (
	CODSTATUS INT NOT NULL AUTO_INCREMENT,
    NOME VARCHAR(30),
    ATIVO VARCHAR(1) DEFAULT('S'),
    
    CONSTRAINT PK_STATUS PRIMARY KEY (CODSTATUS)
);

CREATE TABLE HOSPEDEIRO (
	CODHOSPEDEIRO INT NOT NULL AUTO_INCREMENT,
    NOME VARCHAR (100) NOT NULL,
    IDADE INT NOT NULL,
    SEXO INT NOT NULL,
    PESO DECIMAL(5,2) NOT NULL,
    ALTURA DECIMAL(5,2) NOT NULL,
    TIPO_SANGUINEO VARCHAR(3) NOT NULL,
    CODSTATUS INT NOT NULL,
    
    CONSTRAINT PK_HOSPEDEIRO PRIMARY KEY (CODHOSPEDEIRO),
    CONSTRAINT FK_HOSPEDEIRO_STATUS FOREIGN KEY (CODSTATUS) REFERENCES STATUS(CODSTATUS)
);

CREATE TABLE GOSTO_MUSICAL (
	CODGENERO INT NOT NULL AUTO_INCREMENT,
    GENERO VARCHAR(30) NOT NULL,
    DESCRICAO VARCHAR(100),
    FORCA INT(3) DEFAULT(0),
    VELOCIDADE INT(3) DEFAULT(0),
    INTELIGENCIA INT(3) DEFAULT(0),
    ATIVO VARCHAR(1) DEFAULT('S'),
    
    CONSTRAINT PK_GOSTO_MUSICAL PRIMARY KEY (CODGENERO)
);

CREATE TABLE HOSPEDEIRO_GOSTO_MUSICAL (
	CODHOSPEDEIRO INT NOT NULL,
    CODGENERO INT NOT NULL,
    
    CONSTRAINT PK_HOSPEDEIRO_GOSTO_MUSICAL PRIMARY KEY (CODHOSPEDEIRO, CODGENERO),
    CONSTRAINT FK_HOSPEDEIRO_GOSTO_MUSICAL_HOSPEDEIRO FOREIGN KEY (CODHOSPEDEIRO) REFERENCES HOSPEDEIRO(CODHOSPEDEIRO),
    CONSTRAINT FK_HOSPEDEIRO_GOSTO_MUSICAL_GOSTO_MUSICAL FOREIGN KEY (CODGENERO) REFERENCES GOSTO_MUSICAL(CODGENERO)
);

CREATE TABLE JOGO (
	CODJOGO INT NOT NULL AUTO_INCREMENT,
    NOME VARCHAR(100) NOT NULL,
    DESCRICAO VARCHAR(100),
    FORCA INT(3) DEFAULT(0),
    VELOCIDADE INT(3) DEFAULT(0),
    INTELIGENCIA INT(3) DEFAULT(0),
    ATIVO VARCHAR(1) DEFAULT('S'),
    
    CONSTRAINT PK_JOGO PRIMARY KEY (CODJOGO)
);

CREATE TABLE HOSPEDEIRO_JOGO (
	CODHOSPEDEIRO INT NOT NULL,
    CODJOGO INT NOT NULL,
    
    CONSTRAINT PK_HOSPEDEIRO_JOGO PRIMARY KEY (CODHOSPEDEIRO, CODJOGO),
    CONSTRAINT FK_HOSPEDEIRO_JOGO_HOSPEDEIRO FOREIGN KEY (CODHOSPEDEIRO) REFERENCES HOSPEDEIRO(CODHOSPEDEIRO),
    CONSTRAINT FK_HOSPEDEIRO_JOGO_JOGO FOREIGN KEY (CODJOGO) REFERENCES JOGO(CODJOGO)
);

CREATE TABLE ESPORTE (
	CODESPORTE INT NOT NULL AUTO_INCREMENT,
    NOME VARCHAR(100) NOT NULL,
    DESCRICAO VARCHAR(100),
    FORCA INT(3) DEFAULT(0),
    VELOCIDADE INT(3) DEFAULT(0),
    INTELIGENCIA INT(3) DEFAULT(0),
    ATIVO VARCHAR(1) DEFAULT('S'),
    
    CONSTRAINT PK_ESPORTE PRIMARY KEY (CODESPORTE)
);

CREATE TABLE HOSPEDEIRO_ESPORTE (
	CODHOSPEDEIRO INT NOT NULL,
    CODESPORTE INT NOT NULL,
    
    CONSTRAINT PK_HOSPEDEIRO_ESPORTE PRIMARY KEY (CODHOSPEDEIRO, CODESPORTE),
    CONSTRAINT FK_HOSPEDEIRO_ESPORTE_HOSPEDEIRO FOREIGN KEY (CODHOSPEDEIRO) REFERENCES HOSPEDEIRO(CODHOSPEDEIRO),
    CONSTRAINT FK_HOSPEDEIRO_ESPORTE_ESPORTE FOREIGN KEY (CODESPORTE) REFERENCES ESPORTE(CODESPORTE)
);

CREATE TABLE PATOS (
	CODPATO INT NOT NULL AUTO_INCREMENT,
    NOME VARCHAR(100) NOT NULL,
    DESCRICAO VARCHAR(100),
    FORCA INT(3) DEFAULT(0),
    VELOCIDADE INT(3) DEFAULT(0),
    INTELIGENCIA INT(3) DEFAULT(0),
    POSSUI_CHIP VARCHAR(1) DEFAULT('S'),
    CODSTATUS INT NOT NULL,
    
    CONSTRAINT PK_DUCK PRIMARY KEY (CODPATO),
    CONSTRAINT FK_DUCK_STATUS FOREIGN KEY (CODSTATUS) REFERENCES STATUS(CODSTATUS)
);